<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1224px" preserveAspectRatio="none" style="width:773px;height:1224px;background:#F2EEE6;" version="1.1" viewBox="0 0 773 1224" width="773px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="18" lengthAdjust="spacing" textLength="265" x="253.5" y="29.4023">iiideaをON(アクティベート)する</text><rect fill="#FFFFFF" height="58.6211" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="129.6875"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="129.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="129.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="230.5" y1="129.6875" y2="129.6875"/><rect fill="#FFFFFF" height="73.9316" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="229.2637" y2="303.1953"/><rect fill="#FFFFFF" height="864.0664" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="230.5" y1="1208.2168" y2="1208.2168"/><rect fill="#FFFFFF" height="37.3105" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="150.998"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="150.998" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="150.998" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="521.5" y1="150.998" y2="150.998"/><rect fill="#FFFFFF" height="73.9316" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="229.2637" y2="303.1953"/><rect fill="#FFFFFF" height="864.0664" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="521.5" y1="1208.2168" y2="1208.2168"/><rect fill="#F3F0F0" height="233.3711" style="stroke:#000000;stroke-width:2.0;" width="684" x="10" y="966.8457"/><rect fill="#F3F0F0" height="186.75" style="stroke:none;stroke-width:1.0;" width="684" x="10" y="1013.4668"/><line style="stroke:#222222;stroke-width:1.0;" x1="38" x2="38" y1="119.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="38" x2="38" y1="188.3086" y2="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="38" x2="38" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="38" x2="38" y1="303.1953" y2="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="38" x2="38" y1="344.1504" y2="1217.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="225" x2="225" y1="119.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="225" x2="225" y1="188.3086" y2="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="225" x2="225" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="225" x2="225" y1="303.1953" y2="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="225" x2="225" y1="344.1504" y2="1217.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="516" x2="516" y1="119.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="516" x2="516" y1="188.3086" y2="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="516" x2="516" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="516" x2="516" y1="303.1953" y2="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="516" x2="516" y1="344.1504" y2="1217.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="734" x2="734" y1="119.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="734" x2="734" y1="188.3086" y2="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="734" x2="734" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="734" x2="734" y1="303.1953" y2="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="734" x2="734" y1="344.1504" y2="1217.2168"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="14" lengthAdjust="spacing" textLength="31" x="20" y="116.7344">User</text><ellipse cx="38.5" cy="50.1992" fill="#EEEEEE" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M38.5,58.1992 L38.5,85.1992 M25.5,66.1992 L51.5,66.1992 M38.5,85.1992 L25.5,100.1992 M38.5,85.1992 L51.5,100.1992 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#FFFFFF" height="34.0215" style="stroke:#111111;stroke-width:1.5;" width="87" x="182" y="84.666"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="73" x="189" y="108.1016">YourApp</text><rect fill="#FFFFFF" height="54.043" style="stroke:#111111;stroke-width:1.5;" width="65" x="484" y="64.6445"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="51" x="491" y="88.0801">Riiiver</text><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="33" x="500" y="108.1016">SDK</text><rect fill="#FFFFFF" height="54.043" style="stroke:#111111;stroke-width:1.5;" width="65" x="702" y="64.6445"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="51" x="709" y="88.0801">Riiiver</text><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="49" x="710" y="108.1016">Cloud</text><rect fill="#FFFFFF" height="58.6211" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="129.6875"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="129.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="129.6875" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="230.5" y1="129.6875" y2="129.6875"/><rect fill="#FFFFFF" height="73.9316" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="229.2637" y2="303.1953"/><rect fill="#FFFFFF" height="864.0664" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="220.5" y="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="220.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="230.5" x2="230.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="220.5" x2="230.5" y1="1208.2168" y2="1208.2168"/><rect fill="#FFFFFF" height="37.3105" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="150.998"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="150.998" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="150.998" y2="188.3086"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="521.5" y1="150.998" y2="150.998"/><rect fill="#FFFFFF" height="73.9316" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="229.2637"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="229.2637" y2="303.1953"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="229.2637" y2="303.1953"/><rect fill="#FFFFFF" height="864.0664" style="stroke:#FFFFFF;stroke-width:1.0;" width="10" x="511.5" y="344.1504"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="511.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="521.5" x2="521.5" y1="344.1504" y2="1208.2168"/><line style="stroke:#222222;stroke-width:1.0;" x1="511.5" x2="521.5" y1="1208.2168" y2="1208.2168"/><polygon fill="#444444" points="499.5,146.998,509.5,150.998,499.5,154.998,503.5,150.998" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="230.5" x2="505.5" y1="150.998" y2="150.998"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="147" x="237.5" y="146.2559">ERSDK.sharedInstance()</text><polygon fill="#444444" points="241.5,176.3086,231.5,180.3086,241.5,184.3086,237.5,180.3086" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="235.5" x2="510.5" y1="180.3086" y2="180.3086"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="23" x="247.5" y="175.5664">sdk</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" lengthAdjust="spacing" textLength="313" x="231.5" y="212.9434">ログイン済み ー iiideaは対象のERAppletクラスのインスタンス</text><polygon fill="#444444" points="208.5,261.8848,218.5,265.8848,208.5,269.8848,212.5,265.8848" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="38.5" x2="214.5" y1="265.8848" y2="265.8848"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="104" x="45.5" y="245.832">PreferenceUIから</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="73" x="45.5" y="261.1426">iiideaに設定</text><polygon fill="#444444" points="499.5,291.1953,509.5,295.1953,499.5,299.1953,503.5,295.1953" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="230.5" x2="505.5" y1="295.1953" y2="295.1953"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="130" x="237.5" y="290.4531">認証セッションを更新</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" lengthAdjust="spacing" textLength="143" x="315" y="327.8301">「認証情報を更新する」参照</text><path d="M235,349.1504 L235,389.1504 L649,389.1504 L649,359.1504 L639,349.1504 L235,349.1504 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><path d="M639,349.1504 L639,359.1504 L649,359.1504 L639,349.1504 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="47" x="241" y="366.7188">iiideaの</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" text-decoration="underline" textLength="273" x="288" y="366.7188">アクティベート前に必ずPreference設定が必要</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="39" x="561" y="366.7188">です。</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="393" x="241" y="382.0293">loadPreferences()を呼ぶとPreferenceを設定したことになります。</text><polygon fill="#444444" points="499.5,458.0137,509.5,462.0137,499.5,466.0137,503.5,462.0137" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="230.5" x2="505.5" y1="462.0137" y2="462.0137"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="103" x="237.5" y="411.3398">loadPreferences(</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="107" x="269.5" y="426.6504">applet: ERApplet,</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="116" x="269.5" y="441.9609">urlBaseFolder: URL</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="4" x="237.5" y="457.2715">)</text><polygon fill="#444444" points="241.5,487.3242,231.5,491.3242,241.5,495.3242,237.5,491.3242" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="235.5" x2="510.5" y1="491.3242" y2="491.3242"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="210" x="247.5" y="486.582">webView内にPreference画面を表示</text><polygon fill="#444444" points="49.5,516.6348,39.5,520.6348,49.5,524.6348,45.5,520.6348" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="43.5" x2="219.5" y1="520.6348" y2="520.6348"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="91" x="55.5" y="515.8926">設定画面を表示</text><polygon fill="#444444" points="499.5,545.9453,509.5,549.9453,499.5,553.9453,503.5,549.9453" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="38.5" x2="505.5" y1="549.9453" y2="549.9453"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="130" x="45.5" y="545.2031">Preference画面の操作</text><line style="stroke:#444444;stroke-width:1.0;" x1="521.5" x2="563.5" y1="579.2559" y2="579.2559"/><line style="stroke:#444444;stroke-width:1.0;" x1="563.5" x2="563.5" y1="579.2559" y2="592.2559"/><line style="stroke:#444444;stroke-width:1.0;" x1="522.5" x2="563.5" y1="592.2559" y2="592.2559"/><polygon fill="#444444" points="532.5,588.2559,522.5,592.2559,532.5,596.2559,528.5,592.2559" style="stroke:#444444;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="117" x="528.5" y="574.5137">Preference値の設定</text><polygon fill="#444444" points="532.5,632.877,522.5,636.877,532.5,640.877,528.5,636.877" style="stroke:#444444;stroke-width:1.0;"/><polygon fill="#444444" points="722.5,632.877,732.5,636.877,722.5,640.877,726.5,636.877" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="728.5" y1="636.877" y2="636.877"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="189" x="538.5" y="616.8242">iiideaがwebサービスとの認証が</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="117" x="538.5" y="632.1348">必要な時の処理など</text><polygon fill="#444444" points="49.5,662.1875,39.5,666.1875,49.5,670.1875,45.5,666.1875" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="510.5" y1="666.1875" y2="666.1875"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="156" x="55.5" y="661.4453">Preference画面に値を更新</text><polygon fill="#444444" points="208.5,706.8086,218.5,710.8086,208.5,714.8086,212.5,710.8086" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="38.5" x2="214.5" y1="710.8086" y2="710.8086"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="97" x="45.5" y="690.7559">iiideaをON(利用</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="95" x="45.5" y="706.0664">可能状態に)する</text><polygon fill="#444444" points="499.5,812.6719,509.5,816.6719,499.5,820.6719,503.5,816.6719" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="230.5" x2="505.5" y1="816.6719" y2="816.6719"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="91" x="237.5" y="735.377">iiidea.activate(</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="71" x="269.5" y="750.6875">completion</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="193" x="301.5" y="765.998">&lt; unauthorizedPermissionList,</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="145" x="301.5" y="781.3086">unauthorizedProxyList,</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="48" x="301.5" y="796.6191">error &gt;:</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="4" x="237.5" y="811.9297">)</text><polygon fill="#444444" points="532.5,857.293,522.5,861.293,532.5,865.293,528.5,861.293" style="stroke:#444444;stroke-width:1.0;"/><polygon fill="#444444" points="722.5,857.293,732.5,861.293,722.5,865.293,726.5,861.293" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="526.5" x2="728.5" y1="861.293" y2="861.293"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="189" x="538.5" y="841.2402">iiideaがwebサービスとの認証が</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="117" x="538.5" y="856.5508">必要な時の処理など</text><polygon fill="#444444" points="241.5,947.8457,231.5,951.8457,241.5,955.8457,237.5,951.8457" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="235.5" x2="510.5" y1="951.8457" y2="951.8457"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="75" x="247.5" y="885.8613">completion(</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="179" x="279.5" y="901.1719">unauthorizedPermissionList,</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="150" x="279.5" y="916.4824">tunauthorizedProxyList,</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="30" x="279.5" y="931.793">error</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="4" x="247.5" y="947.1035">)</text><path d="M10,966.8457 L72,966.8457 L72,973.8457 L62,983.8457 L10,983.8457 L10,966.8457 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="233.3711" style="stroke:#000000;stroke-width:2.0;" width="684" x="10" y="966.8457"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="980.4141">alt</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="510" x="87" y="979.4805">[completionのunauthorizedPermissionList / unauthorizedProxyList / errorが全てnil &lt;成功&gt;]</text><polygon fill="#444444" points="49.5,1001.4668,39.5,1005.4668,49.5,1009.4668,45.5,1005.4668" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="43.5" x2="219.5" y1="1005.4668" y2="1005.4668"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="158" x="55.5" y="1000.7246">iiideaをONしたことを通知</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="694" y1="1014.4668" y2="1014.4668"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="155" x="15" y="1025.1016">[nil以外が戻ってくる &lt;失敗&gt;]</text><path d="M235,1033.4219 L235,1165.4219 L684,1165.4219 L684,1043.4219 L674,1033.4219 L235,1033.4219 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><path d="M674,1033.4219 L674,1043.4219 L684,1043.4219 L674,1033.4219 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="393" x="241" y="1050.9902">外部のwebサービスを利用する場合や、OSに位置情報などの権限を</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="195" x="241" y="1066.3008">必要とする機能を利用する場合：</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="0" x="245" y="1081.6113"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="329" x="257" y="1096.9219">外部Webサービス利用に必要な認証情報が足りない場合:</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="362" x="273" y="1112.2324">unauthorizedProxyListとして必要な情報リストが渡される。</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="0" x="245" y="1127.543"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="229" x="257" y="1142.8535">OSから必要な権限が取れていない場合:</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="396" x="273" y="1158.1641">unauthorizedPermissionListとして必要な権限リストが渡される。</text><polygon fill="#444444" points="49.5,1188.2168,39.5,1192.2168,49.5,1196.2168,45.5,1192.2168" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="43.5" x2="219.5" y1="1192.2168" y2="1192.2168"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="104" x="55.5" y="1187.4746">必要な設定を促す</text><!--MD5=[9ac74249afc9a7a94e2942f4a1f99e81]
@startuml
title iiideaをON(アクティベート)する
hide footbox

skinparam DefaultFontName "Noto Sans JP, Helvetica, Arial, Liberation Sans"
skinparam BackgroundColor #F2EEE6
skinparam Shadowing false
skinparam NoteBackgroundColor #F9B5AD
skinparam NodeBorderColor #F26767

skinparam sequence {
ArrowColor #444444
ActorBorderColor Black
LifeLineBorderColor #222222
LifeLineBackgroundColor White
BoxBorderColor #FFFFFF
BoxBackgroundColor #F2fEf6
GroupBackgroundColor #FFFFFF
GroupBodyBackgroundColor #F3F0F0

ParticipantBorderColor #111111
ParticipantBackgroundColor White
ParticipantFontSize 17
ParticipantFontColor #111111
BoundaryBorderColor Gray
ActorBackgroundColor #eeeeee
ActorFontColor Black

}

actor User
participant YourApp as App
participant "Riiiver\nSDK" as ERSDK
participant "Riiiver\nCloud" as Riiiver

activate App

App -> ERSDK: ERSDK.sharedInstance()
activate ERSDK
App <- - ERSDK: sdk

... ログイン済み ー iiideaは対象のERAppletクラスのインスタンス...

User -> App: PreferenceUIから\niiideaに設定

App -> ERSDK: 認証セッションを更新
... 「認証情報を更新する」参照 ...
note right of App: iiideaの__アクティベート前に必ずPreference設定が必要__です。\nloadPreferences()を呼ぶとPreferenceを設定したことになります。
App -> ERSDK: loadPreferences(\n\tapplet: ERApplet,\n\turlBaseFolder: URL\n)
App <- - ERSDK: webView内にPreference画面を表示
User <- App: 設定画面を表示
User - -> ERSDK: Preference画面の操作
ERSDK -> ERSDK: Preference値の設定
ERSDK <- -> Riiiver: iiideaがwebサービスとの認証が\n必要な時の処理など
User <- - ERSDK: Preference画面に値を更新

User -> App: iiideaをON(利用\n可能状態に)する
App -> ERSDK: iiidea.activate(\n\tcompletion\n\t\t< unauthorizedPermissionList,\n\t\tunauthorizedProxyList,\n\t\terror >:\n)
ERSDK <- -> Riiiver: iiideaがwebサービスとの認証が\n必要な時の処理など
App <- - ERSDK: completion(\n\tunauthorizedPermissionList,\n\ttunauthorizedProxyList,\n\terror\n)
alt completionのunauthorizedPermissionList / unauthorizedProxyList / errorが全てnil <成功>
    User <- - App: iiideaをONしたことを通知
else nil以外が戻ってくる <失敗>
    note right of App
        外部のwebサービスを利用する場合や、OSに位置情報などの権限を
        必要とする機能を利用する場合：

            外部Webサービス利用に必要な認証情報が足りない場合:
                unauthorizedProxyListとして必要な情報リストが渡される。

            OSから必要な権限が取れていない場合:
                unauthorizedPermissionListとして必要な権限リストが渡される。
    end note
    App -> User: 必要な設定を促す
end

@enduml

PlantUML version 1.2021.2(Sun Mar 07 20:10:27 JST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>