<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="787px" preserveAspectRatio="none" style="width:651px;height:787px;background:#F2EEE6;" version="1.1" viewBox="0 0 651 787" width="651px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="18" lengthAdjust="spacing" textLength="201" x="227" y="29.4023">Logout from the Riiiver</text><rect fill="#FFFFFF" height="29.3105" style="stroke:#222222;stroke-width:1.0;" width="10" x="423.5" y="180.3086"/><rect fill="#F3F0F0" height="416.9688" style="stroke:#000000;stroke-width:2.0;" width="635" x="10" y="346.5508"/><rect fill="#F3F0F0" height="193.1738" style="stroke:#000000;stroke-width:2.0;" width="395.5" x="20" y="563.3457"/><rect fill="#F3F0F0" height="104.2422" style="stroke:none;stroke-width:1.0;" width="395.5" x="20" y="652.2773"/><line style="stroke:#222222;stroke-width:1.0;" x1="48" x2="48" y1="119.6875" y2="282.2402"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="48" x2="48" y1="282.2402" y2="310.2402"/><line style="stroke:#222222;stroke-width:1.0;" x1="48" x2="48" y1="310.2402" y2="780.5195"/><line style="stroke:#222222;stroke-width:1.0;" x1="179" x2="179" y1="119.6875" y2="282.2402"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="179" x2="179" y1="282.2402" y2="310.2402"/><line style="stroke:#222222;stroke-width:1.0;" x1="179" x2="179" y1="310.2402" y2="780.5195"/><line style="stroke:#222222;stroke-width:1.0;" x1="428" x2="428" y1="119.6875" y2="282.2402"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="428" x2="428" y1="282.2402" y2="310.2402"/><line style="stroke:#222222;stroke-width:1.0;" x1="428" x2="428" y1="310.2402" y2="780.5195"/><line style="stroke:#222222;stroke-width:1.0;" x1="602" x2="602" y1="119.6875" y2="282.2402"/><line style="stroke:#222222;stroke-width:1.0;stroke-dasharray:1.0,4.0;" x1="602" x2="602" y1="282.2402" y2="310.2402"/><line style="stroke:#222222;stroke-width:1.0;" x1="602" x2="602" y1="310.2402" y2="780.5195"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="14" lengthAdjust="spacing" textLength="31" x="30" y="116.7344">User</text><ellipse cx="48.5" cy="50.1992" fill="#EEEEEE" rx="8" ry="8" style="stroke:#000000;stroke-width:2.0;"/><path d="M48.5,58.1992 L48.5,85.1992 M35.5,66.1992 L61.5,66.1992 M48.5,85.1992 L35.5,100.1992 M48.5,85.1992 L61.5,100.1992 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><rect fill="#FFFFFF" height="34.0215" style="stroke:#111111;stroke-width:1.5;" width="87" x="136" y="84.666"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="73" x="143" y="108.1016">YourApp</text><rect fill="#FFFFFF" height="54.043" style="stroke:#111111;stroke-width:1.5;" width="65" x="396" y="64.6445"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="51" x="403" y="88.0801">Riiiver</text><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="33" x="412" y="108.1016">SDK</text><rect fill="#FFFFFF" height="54.043" style="stroke:#111111;stroke-width:1.5;" width="65" x="570" y="64.6445"/><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="51" x="577" y="88.0801">Riiiver</text><text fill="#111111" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="17" lengthAdjust="spacing" textLength="49" x="578" y="108.1016">Cloud</text><rect fill="#FFFFFF" height="29.3105" style="stroke:#222222;stroke-width:1.0;" width="10" x="423.5" y="180.3086"/><polygon fill="#444444" points="167.5,146.998,177.5,150.998,167.5,154.998,171.5,150.998" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="48.5" x2="173.5" y1="150.998" y2="150.998"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="83" x="55.5" y="146.2559">initialize App</text><polygon fill="#444444" points="411.5,176.3086,421.5,180.3086,411.5,184.3086,415.5,180.3086" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="179.5" x2="417.5" y1="180.3086" y2="180.3086"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="147" x="186.5" y="175.5664">ERSDK.sharedInstance()</text><polygon fill="#444444" points="190.5,205.6191,180.5,209.6191,190.5,213.6191,186.5,209.6191" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="184.5" x2="427.5" y1="209.6191" y2="209.6191"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="23" x="196.5" y="204.877">sdk</text><polygon fill="#444444" points="416.5,245.585,426.5,249.585,416.5,253.585,420.5,249.585" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="179.5" x2="422.5" y1="249.585" y2="249.585"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="225" x="186.5" y="244.8428">ERAuth.sharedInstance.isLoggedIn()</text><path d="M67,222.6191 L67,262.6191 L174,262.6191 L174,232.6191 L164,222.6191 L67,222.6191 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><path d="M164,222.6191 L164,232.6191 L174,232.6191 L164,222.6191 " fill="#F9B5AD" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="79" x="73" y="240.1875">Check if you</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="86" x="73" y="255.498">are logged in.</text><polygon fill="#444444" points="190.5,270.2402,180.5,274.2402,190.5,278.2402,186.5,274.2402" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="184.5" x2="427.5" y1="274.2402" y2="274.2402"/><polygon fill="#444444" points="167.5,327.5508,177.5,331.5508,167.5,335.5508,171.5,331.5508" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="48.5" x2="173.5" y1="331.5508" y2="331.5508"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="41" x="55.5" y="326.8086">logout</text><path d="M10,346.5508 L72,346.5508 L72,353.5508 L62,363.5508 L10,363.5508 L10,346.5508 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="416.9688" style="stroke:#000000;stroke-width:2.0;" width="635" x="10" y="346.5508"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="25" y="360.1191">alt</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="366" x="87" y="359.1855">[ERAuth.sharedInstance.isLoggedIn() == true (Already logged in)]</text><polygon fill="#444444" points="439.5,396.4824,429.5,400.4824,439.5,404.4824,435.5,400.4824" style="stroke:#444444;stroke-width:1.0;"/><polygon fill="#444444" points="590.5,396.4824,600.5,400.4824,590.5,404.4824,594.5,400.4824" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="433.5" x2="596.5" y1="400.4824" y2="400.4824"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="66" x="445.5" y="380.4297">Logged in.</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="150" x="445.5" y="395.7402">Already obtained token.</text><polygon fill="#444444" points="416.5,456.4141,426.5,460.4141,416.5,464.4141,420.5,460.4141" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="179.5" x2="422.5" y1="460.4141" y2="460.4141"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="193" x="186.5" y="425.0508">ERAuth.sharedInstance.logout(</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="129" x="218.5" y="440.3613">completion: &lt;Error&gt;</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="4" x="186.5" y="455.6719">)</text><polygon fill="#444444" points="590.5,485.7246,600.5,489.7246,590.5,493.7246,594.5,489.7246" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="428.5" x2="596.5" y1="489.7246" y2="489.7246"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="117" x="435.5" y="484.9824">Logout Operations</text><polygon fill="#444444" points="439.5,515.0352,429.5,519.0352,439.5,523.0352,435.5,519.0352" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="433.5" x2="601.5" y1="519.0352" y2="519.0352"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="131" x="445.5" y="514.293">End of process(error)</text><polygon fill="#444444" points="190.5,544.3457,180.5,548.3457,190.5,552.3457,186.5,548.3457" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="184.5" x2="427.5" y1="548.3457" y2="548.3457"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="109" x="196.5" y="543.6035">completion(error)</text><path d="M20,563.3457 L82,563.3457 L82,570.3457 L72,580.3457 L20,580.3457 L20,563.3457 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:2.0;" width="395.5" x="20" y="563.3457"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="35" y="576.9141">alt</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="97" y="575.9805">[error == nil &lt;success&gt;]</text><line style="stroke:#444444;stroke-width:1.0;" x1="179.5" x2="221.5" y1="601.9668" y2="601.9668"/><line style="stroke:#444444;stroke-width:1.0;" x1="221.5" x2="221.5" y1="601.9668" y2="614.9668"/><line style="stroke:#444444;stroke-width:1.0;" x1="180.5" x2="221.5" y1="614.9668" y2="614.9668"/><polygon fill="#444444" points="190.5,610.9668,180.5,614.9668,190.5,618.9668,186.5,614.9668" style="stroke:#444444;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="217" x="186.5" y="597.2246">Processing after successful logout</text><polygon fill="#444444" points="59.5,640.2773,49.5,644.2773,59.5,648.2773,55.5,644.2773" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="53.5" x2="178.5" y1="644.2773" y2="644.2773"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="75" x="65.5" y="639.5352">Logged out.</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="20" x2="415.5" y1="653.2773" y2="653.2773"/><line style="stroke:#444444;stroke-width:1.0;" x1="179.5" x2="221.5" y1="690.8984" y2="690.8984"/><line style="stroke:#444444;stroke-width:1.0;" x1="221.5" x2="221.5" y1="690.8984" y2="703.8984"/><line style="stroke:#444444;stroke-width:1.0;" x1="180.5" x2="221.5" y1="703.8984" y2="703.8984"/><polygon fill="#444444" points="190.5,699.8984,180.5,703.8984,190.5,707.8984,186.5,703.8984" style="stroke:#444444;stroke-width:1.0;"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="170" x="186.5" y="670.8457">Handling of logout failures</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="127" x="186.5" y="686.1563">(e.g. network errors)</text><polygon fill="#444444" points="59.5,744.5195,49.5,748.5195,59.5,752.5195,55.5,748.5195" style="stroke:#444444;stroke-width:1.0;"/><line style="stroke:#444444;stroke-width:1.0;" x1="53.5" x2="178.5" y1="748.5195" y2="748.5195"/><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="103" x="65.5" y="728.4668">Failed to logout.</text><text fill="#000000" font-family="Noto Sans JP, Helvetica, Arial, Liberation Sans" font-size="13" lengthAdjust="spacing" textLength="53" x="69.5" y="743.7773">(Reason)</text><!--MD5=[3783027a77e5ebc7317062ba07d701d0]
@startuml
title Logout from the Riiiver
hide footbox

skinparam DefaultFontName "Noto Sans JP, Helvetica, Arial, Liberation Sans"
skinparam BackgroundColor #F2EEE6
skinparam Shadowing false
skinparam NoteBackgroundColor #F9B5AD
skinparam NodeBorderColor #F26767

skinparam sequence {
ArrowColor #444444
ActorBorderColor Black
LifeLineBorderColor #222222
LifeLineBackgroundColor White
BoxBorderColor #FFFFFF
BoxBackgroundColor #F2fEf6
GroupBackgroundColor #FFFFFF
GroupBodyBackgroundColor #F3F0F0

ParticipantBorderColor #111111
ParticipantBackgroundColor White
ParticipantFontSize 17
ParticipantFontColor #111111
BoundaryBorderColor Gray
ActorBackgroundColor #eeeeee
ActorFontColor Black

}

actor User
participant YourApp as App
participant "Riiiver\nSDK" as ERSDK
participant "Riiiver\nCloud" as Riiiver

User -> App: initialize App

App -> ERSDK: ERSDK.sharedInstance()
activate ERSDK
App <- - ERSDK: sdk
deactivate ERSDK

App -> ERSDK: ERAuth.sharedInstance.isLoggedIn()
note left: Check if you\nare logged in.
ERSDK - -> App: 
...
User -> App: logout
alt ERAuth.sharedInstance.isLoggedIn() == true (Already logged in)
    ERSDK <- - -> Riiiver: Logged in.\nAlready obtained token.
    App -> ERSDK: ERAuth.sharedInstance.logout(\n\tcompletion: <Error>\n)
    ERSDK -> Riiiver: Logout Operations
    ERSDK <- - Riiiver: End of process(error)
    ERSDK - -> App: completion(error)
    alt error == nil <success>
        App -> App: Processing after successful logout
        App -> User: Logged out.
    else
        App -> App: Handling of logout failures\n(e.g. network errors)
        App -> User: Failed to logout. \n (Reason)
    end
end





@enduml

PlantUML version 1.2021.7(Sun May 23 21:40:07 JST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>